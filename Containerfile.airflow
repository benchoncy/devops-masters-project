FROM apache/airflow:2.6.3-python3.10

# Install poetry
RUN pip install poetry

# Copy poetry.lock and pyproject.toml
COPY poetry.lock pyproject.toml ./
RUN poetry export --without-hashes --format=requirements.txt > requirements.txt

# Install dependencies
RUN pip install -r requirements.txt
